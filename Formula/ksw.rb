# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Ksw < Formula
  desc "Switch Kubeconfig context in new shell"
  homepage "https://github.com/chickenzord/ksw"
  version "0.2.3"
  license "MIT"

  on_macos do
    if Hardware::CPU.arm?
      url "https://github.com/chickenzord/ksw/releases/download/v0.2.3/ksw_Darwin_arm64.tar.gz", using: CurlDownloadStrategy
      sha256 "bd659230b10b6dc48b7f0fb3dc109c937c0656e56d76e33ddbe2abc6359d1e5f"

      def install
        if build.head?
          system "go", "build", *std_go_args(ldflags: "-s -w"), "."
        else
          bin.install "ksw"
        end
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/chickenzord/ksw/releases/download/v0.2.3/ksw_Darwin_x86_64.tar.gz", using: CurlDownloadStrategy
      sha256 "57e5b581b23e2dcae1b5647a9d273b86c2386139d61a5877039d590ab1539c1b"

      def install
        if build.head?
          system "go", "build", *std_go_args(ldflags: "-s -w"), "."
        else
          bin.install "ksw"
        end
      end
    end
  end

  on_linux do
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/chickenzord/ksw/releases/download/v0.2.3/ksw_Linux_arm64.tar.gz", using: CurlDownloadStrategy
      sha256 "8ab5c9c3c027bfd7a04be611421c3de3eff92b81d8a46da6d4874b3ac4560713"

      def install
        if build.head?
          system "go", "build", *std_go_args(ldflags: "-s -w"), "."
        else
          bin.install "ksw"
        end
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/chickenzord/ksw/releases/download/v0.2.3/ksw_Linux_x86_64.tar.gz", using: CurlDownloadStrategy
      sha256 "4f2bff438188e376c18fbe9160dd9c1c61c7129639215be2805651318c2643fd"

      def install
        if build.head?
          system "go", "build", *std_go_args(ldflags: "-s -w"), "."
        else
          bin.install "ksw"
        end
      end
    end
  end

  head do
    url "https://github.com/chickenzord/ksw.git", branch: "main"
    depends_on "go" => :build
  end
end
